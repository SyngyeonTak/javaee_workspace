<%@ page contentType="text/html;charset=utf-8"%>
<%
	int totalRecord = 3200;
	int pageSize = 10;
	int currentPage = 1;
	if(request.getParameter("currentPage")!=null){
		currentPage = Integer.parseInt(request.getParameter("currentPage"));	
	}
	
	int totalPage = (int)Math.ceil((float)totalRecord/pageSize);
	
	int blockSize = 10;
	int firstPage = currentPage - (currentPage-1)%blockSize;
	int lastPage = firstPage+ (blockSize-1);
	
	out.print("firstPage"+firstPage+"<br>");
	out.print("lastPage"+lastPage+"<br>");
%>
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Insert title here</title>
<style>

table{
	width: 100%;
	border: 1px solid #cccccc;
}
td{
	border: 1px solid #cccccc;
}
a{
 	text-decoration : none;
}
</style>
<script>
</script>
</head>
<body>
	<table>
		<tr>
			<td width = "5%">No</td>
			<td width = "70%">제목</td>
			<td width = "10%">작성자</td>
			<td width = "10%">등록일</td>
			<td width = "5%">조회수</td>
		</tr>
		<%for(int i = 1; i<=pageSize; i++){ %>
			<tr>
				<td>30</td>
				<td>제목 나올 곳</td>
				<td>홍길동</td>
				<td>2020-12-20</td>
				<td>31</td>
			</tr>
		<%} %>
		<tr>
		
			<td colspan = "5" style = "text-align:center;">
				
				<%if(firstPage >1){ %>
					<a href = "list.jsp?currentPage=<%=firstPage-1 %>">◀</a>				
				<%}else{ %>
					<a href = "javascrip:alert('처음페이지 입니다.')">◀</a>								
				<%} %>
		
				<%for(int i=firstPage; i<=lastPage; i++){ %>
					<%if(i > totalPage) break; %>
					<a href = "list.jsp?currentPage=<%=i %>">[<%=i %>]</a>
				<%} %>
				
				<%if(lastPage <= totalPage){ %>
					<a href = "list.jsp?currentPage=<%=lastPage+1 %>">▶</a>				
				<%}else{ %>
					<a href = "javascrip:alert('처음페이지 입니다.')">◀</a>								
				<%} %>
				<a href = "list.jsp?currentPage=<%=lastPage+1 %>">▶</a>
			<td>
		</tr>
	</table>
</body>
</html>








